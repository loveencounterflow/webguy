{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/time.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n'use strict'\n\n#===========================================================================================================\n_dayjs = null\n\n#-----------------------------------------------------------------------------------------------------------\ndayjs = ( P... ) =>\n  unless _dayjs?\n    _dayjs            = require 'dayjs'\n    utc               = require 'dayjs/plugin/utc';               _dayjs.extend utc\n    # relativeTime      = require 'dayjs/plugin/relativeTime';      _dayjs.extend relativeTime\n    # toObject          = require 'dayjs/plugin/toObject';          _dayjs.extend toObject\n    # customParseFormat = require 'dayjs/plugin/customParseFormat'; _dayjs.extend customParseFormat\n    # duration          = require 'dayjs/plugin/duration';          _dayjs.extend duration\n  return _dayjs P...\n\n#===========================================================================================================\ndefaults =\n  ### TAINT validate that count_digits > 0 ###\n  count_digits:    3\n  counter_joiner:  ':'\n  ms_digits:       13\n  ms_padder:       '0'\n  format:          'iso'\n\n#-----------------------------------------------------------------------------------------------------------\nconstants =\n  ms_decimals:    3\n\n#-----------------------------------------------------------------------------------------------------------\n### TAINT consider to keep these memo values as `globalThis[some_symbol].last_stamp_f` to ensure it being\nshared as widely as possible, in the not-so unlikely event that two scripts make use of two different\ninstances of `webguy`. ###\nmemo =\n  last_stamp_f: null\n  last_count:   0\n\n#===========================================================================================================\nclass Time\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( cfg ) ->\n    cfg               = { defaults..., cfg..., }\n    cfg.ms_padlength  = cfg.ms_digits + constants.ms_decimals + 1\n    @cfg              = Object.freeze cfg\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  stamp_f:                    -> utc_timestamp = performance.timeOrigin + performance.now()\n  stamp_s: ( stamp_f = null ) -> (\n    ( stamp_f ? @stamp_f() ).toFixed constants.ms_decimals ).padStart @cfg.ms_padlength, @cfg.ms_padder\n\n  #---------------------------------------------------------------------------------------------------------\n  monostamp_f2: ->\n    if ( stamp_f = @stamp_f() ) is memo.last_stamp_f\n      memo.last_count++\n    else\n      memo.last_stamp_f = stamp_f\n      memo.last_count   = 0\n    return [ memo.last_stamp_f, memo.last_count, ]\n\n  #---------------------------------------------------------------------------------------------------------\n  monostamp_s2: ( stamp_f = null, count = null ) ->\n    if stamp_f?\n      count ?= 0\n    else\n      [ stamp_f, count, ] = @monostamp_f2()\n    count_s = count.toString().padStart @cfg.count_digits, '0'\n    switch @cfg.format\n      when 'milliseconds'\n        return [ ( @stamp_s stamp_f ), count_s, ]\n      else\n        stamp_decimals  = stamp_f.toFixed constants.ms_decimals\n        stamp_decimals  = stamp_decimals.replace /^.*([0-9]{3})\\.([0-9]+)/, '$1$2'\n        switch @cfg.format\n          when 'iso'\n            stamp_s         = ( new Date stamp_f ).toISOString()\n            stamp_s         = stamp_s.replace /...Z/, \"#{stamp_decimals}Z\"\n          when 'compact'\n            stamp_s         = ( dayjs stamp_f ).utc().format 'YYYYMMDDHHmmssµ'\n            stamp_s         = stamp_s.replace /µ/g, \"#{stamp_decimals}\"\n          else\n            stamp_s         = ( dayjs stamp_f ).utc().format @cfg.format\n            stamp_s         = stamp_s.replace /µ/g, \"#{stamp_decimals}\"\n        return [ stamp_s, count_s, ]\n    throw new Error \"unknown format #{@cfg.format}\"\n\n\n  #---------------------------------------------------------------------------------------------------------\n  monostamp_s1: ( stamp_f = null, count = null  ) -> ( @monostamp_s2 stamp_f, count ).join @cfg.counter_joiner\n  stamp:        ( P...                          ) -> @monostamp_s1 P...\n\n\n#===========================================================================================================\nTIME            = new Time()\nTIME.Time       = Time\nmodule.exports  = TIME\n"
  ]
}